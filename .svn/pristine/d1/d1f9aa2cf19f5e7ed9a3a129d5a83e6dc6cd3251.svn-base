<?xml version="1.0" encoding="UTF-8" ?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"
	xmlns:s="/struts-tags" xmlns:sj="/struts-jquery-tags">
	<jsp:directive.page language="java"
		contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" />

	<jsp:text>
		<![CDATA[                 
	<script type="text/javascript" src="${pageContext.request.contextPath}/pages/calendario/gestionar-actividad/js/index.js"></script>
	]]>
	</jsp:text>


	<!-- titulo -->

	<div class="row title">
		<div class="col-md-12">
			<h1 class="title">
				<s:text name="IU1.1-8_TITLE_GESTIONAR" />
			</h1>
		</div>
	</div>

	<!-- ActionMessages y ActionErrors -->
	<div class="outter-section form-horizontal form-max">
        <div class="row">
            <div class="col-md-12">
                <s:actionerror theme="%{getText('mx.edu.eld.defaulTheme')}"/>
                <s:actionmessage theme="%{getText('mx.edu.eld.defaulTheme')}"/>
            </div>
        </div>
    </div>
    
	<!-- tabla -->
	<div class="form form-horizontal text-justify form-max">
		<div class="form-group">
			<div class="row">
				<div class="col-md-12">
					<table id="tblActividades" class="table table-striped">
						<thead>
							<tr>
								<th data-priority="1"><s:text name="IU1.1-8_LBL3" /></th>
								<th data-priority="3"><s:text name="IU1.1-8_LBL4" /></th>							
								<th data-priority="2"><s:text name="IU1.1-8_LBL7" /></th>
							</tr>
						</thead>
						<tbody>
							<s:iterator value="listaActividades" var="actividad">
								<tr>
									<td>${actividad.nombre}</td>
									<td><s:property value="%{#actividad.tipoActividad.nombre}" /></td>									
									<td>
										<s:if test="%{#actividad.editable}">
											<!-- Se pasa el id compuesto por los campos de idCiclo_idActividad ya que el id es una llave compuesta -->
											<a 	href="${pageContext.request.contextPath}/calendario/gestionar-actividad/${actividad.id}/edit">
											<i class="material-icons md-24 md-eld">mode_edit</i></a>
											<!-- Se pasa el id compuesto por los campos de idCiclo_idActividad ya que el id es una llave compuesta -->
											<a
												href="${pageContext.request.contextPath}/calendario/gestionar-actividad/${actividad.id}/deleteConfirm">
											<i class="material-icons md-24 md-eld">delete</i></a>
										</s:if>
										<s:else>
											<!-- Se pasa el id compuesto por los campos de idCiclo_idActividad ya que el id es una llave compuesta -->
											<a
												href="${pageContext.request.contextPath}/calendario/gestionar-actividad/${actividad.id}/deleteConfirm">
											<i class="material-icons md-24 md-eld">delete</i></a>
										</s:else>
										
									</td>
								</tr>
							</s:iterator>
						</tbody>
					</table>
					<div class="form-group">
						<div class="row">
							<div class="text-center col-md-12">
								<a class="btn btn-default btn-default-eld"
									href="${pageContext.request.contextPath}/calendario/gestionar-actividad/new">
									<s:text name="IU1.1-8_BTN4" />
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Botones de agregar y pdf -->
	<div class="form-group">
		<div class="outter-section ">
			<div class="text-right col-md-12">
				<a class="btn btn-default btn-default-eld"
					href="${pageContext.request.contextPath}/calendario/gestionar-ciclos">
					<s:text name="IU1.1-8_BTN5" />
				</a> <a class="btn btn-default btn-default-eld"
					href="${pageContext.request.contextPath}/calendario/gestionar-actividad">
					<s:text name="IU1.1-8_BTN3" />
				</a>
				<a class="btn btn-default btn-default-eld"
					href="${pageContext.request.contextPath}/calendario/gestionar-actividad/3/edit">
					<i class="material-icons md-24">mode_edit</i></a>
			</div>
		</div>
	</div>

	<!-- DIALOGOS -->

	<sj:dialog id="myclickdialog" modal="true" title="Eliminar Actividad"
		autoOpen="false" openTopics="showDlgDelete"
		closeTopics="closeDlgDelete" resizable="false" draggable="false">
		<div class="form-horizontal">
			<div class="form-group">
				<div class="col-md-12">
					<s:text name="IU1.2-2C_LBL8" />
				</div>
			</div>
			<!-- Botones de aceptar y cancelar -->
			<div class="form-group">
				<div class="text-right col-md-12">
					<a class="btn btn-default btn-default-eld"
						href="${pageContext.request.contextPath}/calendario/gestionar-actividad/new">
						<s:text name="IU1.2-2C_LBL9" />
					</a> <a onclick="closeDeleteDlg()"
						class="btn btn-default btn-default-eld"><s:text
							name="IU1.2-2C_LBL10" /></a>
				</div>
			</div>
		</div>
	</sj:dialog>

</jsp:root>