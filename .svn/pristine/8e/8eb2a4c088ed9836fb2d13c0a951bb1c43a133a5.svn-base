/**
 * 
 */
package mx.edu.eld.convocatoria.dao;

import java.util.List;

import org.hibernate.query.NativeQuery;
import org.springframework.beans.factory.config.BeanDefinition;
import org.springframework.context.annotation.Scope;
import org.springframework.stereotype.Repository;

import mx.edu.eld.calendario.mapeo.ConvocatoriaCriterio;
import mx.ipn.escom.cdt.util.dao.GenericDao;

/**
 * @author Miguel Duarte
 *
 */
@Repository("convocatoriaCriterioDao")
@Scope(value = BeanDefinition.SCOPE_SINGLETON)
public class ConvocatoriaCriterioDao extends GenericDao {

	private static final String QUERY_CRITERIOS_CONVOCATORIA = "select * from " 
			+ "tca09_convocatoria_criterio "
			+ "where id_convocatoria=:idConvocatoria";

	public List<ConvocatoriaCriterio> criteriosConvocatoria(Integer idConvocatoria) {
		NativeQuery<ConvocatoriaCriterio> query = sessionFactory.getCurrentSession()
				.createNativeQuery(QUERY_CRITERIOS_CONVOCATORIA, ConvocatoriaCriterio.class);
		query.setParameter("idConvocatoria", idConvocatoria);
		return  query.getResultList();
	}

}
